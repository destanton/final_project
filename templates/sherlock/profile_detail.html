{% extends 'base.html' %}

{% block content %}

{% if request.user.is_authenticated %}
<div class="ui-p-container">
    <div class="ui grid">
      <div class="four wide column">
        <div class="ui-sides">
          <div class="active side">
            <div class="ui card">
              <div class="image">
                <img src="{{object.picture.url}}" alt="Profile Photo" />
              </div>
              <div class="content">
                <div class="header">{{object.first_name}} {{object.last_name}}</div>
                <div class="meta">
                  <a>Acquaintances</a>
                </div>
                <div class="description">
                  BLAH
                </div>
              </div>
              <div class="extra content">
                <span class="right floated">
                  {{object.get_year}}
                  <br>
                  {% if object.user == request.user %}

                  <a href="{% url 'messages_inbox' %}"><i class="large blue mail outline icon"></i></a>
                    {% load inbox %}
                    <a class="ui mini teal circular label">{% inbox_count %}</a>
                  {% endif %}
                </span>
                <span>
                  <i class="user icon"></i>
                  {{object}} <br>
                  {% if object.user == request.user %}
                  <a href="{% url 'profile_update_view' object.id %}"></i><i class="large blue edit icon"></i></a>
                  {% endif %}
                </span>
              </div>
            </div>
          </div>
        </div>

      </div>

    <div class="eight wide column">
      <div class="ui- raised very padded text container segment">
          <h2 class="ui left floated header">About Me</h2>
          {% if object.user == request.user %}
            <h5 class="ui right floated header"><a href="{% url 'about_update_view' object.user.profile.id %}"><i class="extra large edit icon"></i></a></h5>
          {% endif %}
          <br>
          <div class="ui divider"></div>
            {% for thing in object.get_about %}
            <div class="ui relaxed list">
              <div class="item">
                <div class="header">Birthday</div>
                  {{thing.birthdate}}
              </div>
              <div class="item">
                <div class="header">Birth City</div>
                  {{thing.city_of_birth}}
              </div>
              <div class="item">
                <div class="header">Birth State</div>
                  {{thing.state_of_birth}}
              </div>
              <div class="item">
                <div class="header">Birth Country</div>
                  {{thing.country_of_birth}}
              </div>
              <div class="item">
                <div class="header">Birth Gender</div>
                  {{thing.get_sex_at_birth_display}}
              </div>
              <div class="item">
                <div class="header">Eye Color</div>
                  {{thing.get_eye_color_display}}
              </div>
              <div class="item">
                <div class="header">Mother's First Name</div>
                  {{thing.mother_first_name}}
              </div>
              <div class="item">
                <div class="header">Mother's Maiden Name</div>
                  {{thing.mother_maiden_name}}
              </div>
              <div class="item">
                <div class="header">Mother's Last Name</div>
                  {{thing.mother_last_name}}
              </div>
              <div class="item">
                <div class="header">Father's First Name</div>
                  {{thing.father_first_name}}
              </div>
              <div class="item">
                <div class="header">Father's Last Name</div>
                  {{thing.father_last_name}}
              </div>
              <div class="item">
                <div class="header">Birth Hospital</div>
                  {{thing.birth_hospital}}
              </div>
              <div class="item">
                <div class="header">Searching For My:</div>
                  {{thing.get_searching_for_display}}
              </div>
            </div>
      </div>
    </div>
              <div class="four wide column">
                <div class="ui-- raised very padded text container segment">
                    <h2 class="ui center aligned icon header">
                      <i class="user icon"></i>Biography</h2>
                    <div class="ui divider"></div>
                      <p>
                        {{thing.biography}}
                      </p>
                </div>
              </div>
          {% endfor %}
  </div>
  <div class="ui grid">
    <div class="column">
      <div class="ui compact teal table">
          <table>
            <thead>
              <div class="logo">
                <a class="item" href="{% url 'social:begin' 'twentythreeandme' %}">
                <img src="/media/23andme.png" alt="sync with 23 and me"/></a>
              </div>
              <h2 class="twentythree"> 23andMe Relationship Results</h2>
            {% if request.user.profile.get_relative %}
              <tr class="center aligned"></tr>
                <th class="highlighted">First Name</th>
                <th>Last Name</th>
                <th>Relationship</th>
                <th>Birth Year</th>
                <th>Location</th>
                <th>Family Surnames</th>
                {% endif %}
            </thead>
            <tbody class="center aligned">
              {% for thing in object.get_relative %}
                <tr>
                  <td>
                    {{thing.first_name|title}}
                  </td>
                  <td>
                    {{thing.last_name|title}}
                  </td>
                  <td>
                    {{thing.relationship}}
                  </td>
                  <td>
                    {{thing.birth_year}}
                  </td>
                  <td>
                    {{thing.location|cut:"]"|cut:"["|cut:"'"}}
                  </td>
                  <td>
                    {{thing.family_surnames|cut:"]"|cut:"["|cut:"'"}}
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
    </div>
</div>
</div>
{% endif %}
{% endblock %}
{% block javascript %}
<script type="text/javascript">
$('.ui.dropdown')
.dropdown()
;
</script>
{% endblock %}
